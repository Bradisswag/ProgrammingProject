<!doctype html>
<html>

<head>
    <title>Programming Project | Jet-pack Dodger</title>
</head>

<body>
    <canvas id="gameCanvas" width="500" height="900"></canvas>
    <script>
        var canvas, canvasContext, imgAssests;

        window.onload = function() {
            canvas = document.getElementById('gameCanvas')
            canvasContext = canvas.getContext('2d');
            imgAssests = LoadImageAssests();
            document.addEventListener('keydown', keyPressed);
            document.addEventListener('keyup', keyReleased);

            setInterval(mainLoop, 1000 / 50);
        }

        // Player
        var PlayerXPos = 250;
        var PlayerYPos = 850;
        var PlayerWidth = 20;
        var PlayerHeight = 20;

        //System
        var GameRun = false;
        var Easy = false;
        var Medium = false;
        var Hard = false;

        //StartScreen
        var oneKeyPressed = false;
        var twoKeyPressed = false;
        var threeKeyPressed = false;


        function mainLoop() {
            if (GameRun == true) {
                if (Easy == true) {
                    colorRect(0, 0, canvas.width, canvas.height, 'black') // canvas
                    colorRect(PlayerXPos, PlayerYPos, PlayerWidth, PlayerHeight, 'orange'); // Player object

                    drawSprite(imgs.background, 0, 0, canvas.width, canvas.height) // canvas background

                    drawSprite(imgs.player, PlayerXPos, PlayerYPos, 50, 50); // Player jetpack

                    drawSprite(imgs.doughnut, canvas.width / 2, 50, 50, 50); // Player jetpack
                }
                if (Medium == true) {
                    colorRect(0, 0, canvas.width, canvas.height, 'black') // canvas
                    colorRect(PlayerXPos, PlayerYPos, PlayerWidth, PlayerHeight, 'orange'); // Player object

                    drawSprite(imgs.background, 0, 0, canvas.width, canvas.height) // canvas background

                    drawSprite(imgs.player, PlayerXPos, PlayerYPos, 50, 50); // Player jetpack

                    drawSprite(imgs.doughnut, canvas.width / 2, 50, 50, 50); // Player jetpack
                }
                if (Hard == true) {
                    colorRect(0, 0, canvas.width, canvas.height, 'black') // canvas
                    colorRect(PlayerXPos, PlayerYPos, PlayerWidth, PlayerHeight, 'orange'); // Player object

                    drawSprite(imgs.background, 0, 0, canvas.width, canvas.height) // canvas background

                    drawSprite(imgs.player, PlayerXPos, PlayerYPos, 50, 50); // Player jetpack

                    drawSprite(imgs.doughnut, canvas.width / 2, 50, 50, 50); // Player jetpack
                }
            } else if (GameRun == false) {
                drawSprite(imgs.startscreen, 0, 0, canvas.width, canvas.height) // canvas background
                if (oneKeyPressed) {
                    console.log("test1");
                    Easy = true;
                }
                if (twoKeyPressed) {
                    console.log("test2");
                    Medium = true;
                }
                if (threeKeyPressed) {
                    console.log("test3");
                    Hard = true;
                }
            }
        }

        function keyPressed(evt) {
            if (evt.keyCode == 49) {
                oneKeyPressed = true;
            }
            if (evt.keyCode == 50) {
                twoKeyPressed = true;
            }
            if (evt.keyCode == 51) {
                threeKeyPressed = true;
            }
        }

        function keyReleased(evt) {
            if (evt.keyCode == 49) {
                oneKeyPressed = false;
            }
            if (evt.keyCode == 50) {
                twoKeyPressed = false;
            }
            if (evt.keyCode == 51) {
                threeKeyPressed = false;
            }
        }

        function LoadImageAssests() {
            imgs = {};
            imgs.player = new Image();
            imgs.player.src = 'jetpack.png';

            imgs.background = new Image();
            imgs.background.src = 'space.jpg';

            imgs.doughnut = new Image();
            imgs.doughnut.src = 'Doughnut.png';

            imgs.startscreen = new Image();
            imgs.startscreen.src = 'startscreen0.png';

            return imgs;
        }

        function drawSprite(src, x, y, w, h) {
            canvasContext.drawImage(src, x, y, w, h);
        }

        function colorRect(x, y, w, h, c) {
            canvasContext.fillStyle = c;
            canvasContext.fillRect(x, y, w, h);
        }

        function drawText(x, y, color, msg, sizeStyle) {
            canvasContext.fillStyle = color;
            canvasContext.fillText(msg, x, y);
            canvasContext.font = sizeStyle;
        }

        function jetPack() {

        }
    </script>
</body>

</html>
